{% extends "base.html" %}

{% block content %}
    <h1>{{ user.username }}'s Posts</h1>
    {% for post in posts %}
    <div class="card mb-3">
        <div class="card-body">
            <h2 class="card-title">{{ post.title }}</h2>
            <p class="card-text">{{ post.content[:200] }}...</p>
            <a href="{{ url_for('blog.post', id=post.id) }}" class="btn btn-primary">Read more</a>
            {% if current_user == post.author %}
                <a href="{{ url_for('blog.edit_post', id=post.id) }}" class="btn btn-secondary">Edit</a>
            {% endif %}
            <p class="card-text"><small class="text-muted">Posted on {{ post.timestamp }}</small></p>
        </div>
    </div>
    {% else %}
    <p>No posts found.</p>
    {% endfor %}
{% endblock %}